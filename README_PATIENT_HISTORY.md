# Patient History Section - Руководство по использованию

## Описание
Компонент `PatientHistorySection` предназначен для управления пациентами и их медицинскими историями в системе AviShifo. Компонент предоставляет полный функционал для работы с пациентами, включая создание, просмотр, редактирование и управление медицинскими данными.

## Основные возможности

### 1. Управление пациентами
- **Просмотр списка пациентов** - отображение всех пациентов с фильтрацией и поиском
- **Создание новых пациентов** - добавление новых пациентов в систему
- **Детальный просмотр** - полная информация о пациенте

### 2. Медицинская история
- **Добавление записей** - создание новых медицинских записей
- **Просмотр истории** - отображение всех медицинских записей пациента
- **Детальная информация** - полные данные о каждом визите

### 3. Лекарства и показатели
- **Управление медикаментами** - добавление и отслеживание назначенных препаратов
- **Показатели здоровья** - запись и мониторинг жизненных показателей
- **Документы** - загрузка и управление медицинскими документами

## Структура компонента

### Основные вкладки:
1. **Обзор** - общая информация о пациенте
2. **История болезни** - все медицинские записи
3. **Лекарства** - назначенные препараты
4. **Показатели** - жизненные показатели
5. **Документы** - загруженные файлы

### API Endpoints:
- `GET /api/patients/patientlar/` - получение списка пациентов
- `GET /api/patients/kasallik-tarixi/?patient_id={id}` - получение медицинской истории
- `POST /api/patients/create/` - создание нового пациента

## Использование

### 1. Запуск проекта
```bash
cd avishifo_v58
npm install
npm run dev
```

### 2. Доступ к компоненту
Откройте браузер и перейдите по адресу:
```
http://localhost:3000/dashboard/doctor/patients
```

### 3. Основные действия

#### Создание пациента:
1. Нажмите кнопку "Создать пациента"
2. Заполните обязательные поля (ФИО, паспортные данные)
3. Нажмите "Сохранить"

#### Добавление медицинской записи:
1. Выберите пациента из списка
2. Перейдите на вкладку "История болезни"
3. Нажмите "Добавить"
4. Заполните форму с медицинскими данными
5. Нажмите "Сохранить"

#### Управление лекарствами:
1. Выберите пациента
2. Перейдите на вкладку "Лекарства"
3. Нажмите "Добавить"
4. Заполните информацию о препарате
5. Нажмите "Добавить"

## Особенности

### 1. Многоязычность
- Интерфейс поддерживает русский и узбекский языки
- Медицинские записи сохраняются на узбекском языке
- Отображение адаптировано под оба языка

### 2. Адаптивность
- Компонент адаптирован для мобильных устройств
- Responsive дизайн для всех размеров экранов
- Оптимизированная навигация

### 3. Безопасность
- Аутентификация через JWT токены
- Проверка прав доступа
- Валидация входных данных

## Устранение неполадок

### 1. Ошибки API
- Проверьте подключение к интернету
- Убедитесь, что сервер запущен
- Проверьте правильность API endpoints

### 2. Проблемы с отображением
- Очистите кэш браузера
- Проверьте консоль на наличие ошибок JavaScript
- Убедитесь, что все зависимости установлены

### 3. Проблемы с аутентификацией
- Проверьте наличие токена в localStorage
- Убедитесь, что токен не истек
- Попробуйте перелогиниться

## Техническая информация

### Зависимости:
- React 18+
- Next.js 13+
- TypeScript
- Tailwind CSS
- Lucide React (иконки)

### Структура файлов:
```
PatientHistorySection/
├── PatientHistorySection.tsx    # Основной компонент
├── README_PATIENT_HISTORY.md   # Документация
└── test-api.html               # Тестовый файл для API
```

### Основные типы данных:
- `Patient` - информация о пациенте
- `HistoryEntry` - медицинская запись
- `Medication` - информация о лекарстве
- `VitalSign` - жизненные показатели

## Поддержка

При возникновении проблем или вопросов:
1. Проверьте документацию
2. Обратитесь к консоли браузера
3. Проверьте логи сервера
4. Свяжитесь с командой разработки

## Обновления

Компонент регулярно обновляется для улучшения функциональности и исправления ошибок. Следите за обновлениями и применяйте их своевременно.
